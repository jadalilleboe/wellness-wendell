(this.webpackJsonpwellnesswendell=this.webpackJsonpwellnesswendell||[]).push([[0],{47:function(e,t,s){},73:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(21),r=s.n(a),c=s(9),i=s(5),l=s.n(i),o=s(7),u=s(3),d=(s(47),s.p+"static/media/design.b747a1a5.png"),j=s(0),b=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"title",children:"Wellness Wendell"})}),Object(j.jsx)("div",{className:"reasons-container",children:Object(j.jsxs)("ul",{className:"reasons",children:[Object(j.jsx)("li",{children:"Reminders"}),Object(j.jsx)("li",{children:"Wellness Messages"}),Object(j.jsx)("li",{children:"Combat loneliness with Wellness Wendell!"})]})}),Object(j.jsxs)("div",{class:"home-content",children:[Object(j.jsx)("img",{src:d,alt:"graphic which shows a text message icon pointing to a heart icon. Wellness wendell messages are lovely!",height:"600",width:"500"}),Object(j.jsx)("p",{className:"text-left",style:{margin:"auto",fontSize:25},children:"Use Wellness Wendell to send yourself reminder messages, wellness messages, or just get a friendly hello from Wellness Wendell all via text! Sign up for a free account today!"})]})]})},m=function(){return Object(j.jsxs)("div",{className:"container about",children:[Object(j.jsx)("h1",{className:"title",children:"Wellness Wendell"}),Object(j.jsx)("p",{children:"Wellness Wendell is a website where you can customize wellness messages sent to you via text. Please sign up for an account to start receiving messages, or view the demo video to see what having a Wellness Wendell account is like!"}),Object(j.jsx)("p",{className:"text-center",children:Object(j.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/UTPakLlPmR8",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),Object(j.jsxs)("p",{children:["Wellness Wendell was created by ",Object(j.jsx)("a",{href:"http://jadalilleboe.github.io",children:"Jada Lilleboe"}),", a computer science student at the University of Minnesota. Check out the github repository for this application."]})]})},h=function(e){var t={textDecoration:"none"};return""===e.user?Object(j.jsxs)("div",{className:"non-user-nav container",children:[Object(j.jsx)(c.b,{exact:!0,to:"/",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"Home"})}),Object(j.jsx)(c.b,{exact:!0,to:"/about",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"About"})}),Object(j.jsx)(c.b,{exact:!0,to:"/signup",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"Sign up"})}),Object(j.jsx)(c.b,{exact:!0,to:"/signin",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"Sign in"})})]}):Object(j.jsxs)("div",{className:"user-nav container",children:[Object(j.jsx)(c.b,{exact:!0,to:"/",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"Home"})}),Object(j.jsx)(c.b,{exact:!0,to:"/",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"About"})}),Object(j.jsx)(c.b,{exact:!0,to:"/dashboard",style:t,children:Object(j.jsx)("li",{className:"nav-item",children:"Change Wendell's messages"})})]})},p=function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("p",{className:"p-3",children:"\xa92021 Wellness Wendell inc."})})},O=s(8),x=s(20),g=s(19),f=function(e){var t=Object(n.useState)(e),s=Object(u.a)(t,2),a=s[0],r=s[1];return[a,function(e){r(Object(g.a)(Object(g.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))}]},v=s(12),y=s(14),w=s.n(y),N={sendMessage:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/text-messages",{number:t});case 2:return s=e.sent,e.abrupt("return",s.data.code);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S="/api/users",W={createUser:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post(S,t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePhoneNumber:function(){var e=Object(o.a)(l.a.mark((function e(t){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=window.localStorage.getItem("loggedWWUser")?"bearer ".concat(JSON.parse(window.localStorage.getItem("loggedWWUser")).token):null,e.next=3,w.a.put(S,{newNumber:t},{headers:{Authorization:s}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("loggedWWUser")?"bearer ".concat(JSON.parse(window.localStorage.getItem("loggedWWUser")).token):null,e.next=3,w.a.delete(S,{headers:{Authorization:t}});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),verifyUniqueEmail:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(S,"/verify"),{thisemail:t});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k={login:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M="/api/messages",C=null,D={setToken:function(e){C="bearer ".concat(e)},token:C,getUserMessages:function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(M,{headers:{Authorization:C}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),saveMessage:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put(M,t,{headers:{Authorization:C}});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMessage:function(){var e=Object(o.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("".concat(M,"/").concat(t),{headers:{Authorization:C}});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(e){var t=e.message;return null===t?null:Object(j.jsx)("div",{className:"alert alert-danger",children:t})},H=s(77),P=function(){var e=function(e){var t=Object(n.useState)(e),s=Object(u.a)(t,2),a=s[0],r=s[1];return[a,function(e){r(Object(g.a)(Object(g.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))}]}({firstName:"",lastName:"",email:"",password:"",retypedPassword:""}),t=Object(u.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(""),c=Object(u.a)(r,2),i=c[0],d=c[1],b=f({areaPrefix:"+1",first3:"",middle3:"",last4:""}),m=Object(u.a)(b,2),h=m[0],p=m[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),S=w[0],M=w[1],C=Object(n.useState)(0),P=Object(u.a)(C,2),T=P[0],A=P[1],L=Object(n.useState)(""),E=Object(u.a)(L,2),I=E[0],q=E[1],J=Object(n.useState)(null),R=Object(u.a)(J,2),z=R[0],B=R[1],F=Object(n.useState)("password"),Y=Object(u.a)(F,2),V=Y[0],G=Y[1],K=Object(O.f)();Object(n.useEffect)((function(){d(h.areaPrefix+h.first3+h.middle3+h.last4)}),[h.areaPrefix,h.first3,h.middle3,h.last4]);var Q=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(null),t.preventDefault(),s.password===s.retypedPassword){e.next=6;break}B("Passwords don't match, please try again."),e.next=14;break;case 6:if(!(s.password.length<8)){e.next=10;break}B("Password must be at least 8 characters long."),e.next=14;break;case 10:return e.next=12,W.verifyUniqueEmail(s.email);case 12:e.sent?B("A Wellness Wendell account has already been registered with that e-mail address."):(B(null),M(!0),N.sendMessage(i).then((function(e){A(e)})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),parseInt(I)!==T){e.next=16;break}return K.push({pathname:"/welcome",state:{name:s.firstName}}),e.next=5,W.createUser({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password,phoneNumber:i});case 5:return e.next=7,k.login({email:s.email,password:s.password});case 7:n=e.sent,D.setToken(n.token),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),9,0),D.saveMessage({messageid:String(Object(H.a)()),message:"Hi ".concat(s.firstName,"! Just checking in you to see how you are... Have a good day! Love, Wellness Wendell"),timeDisplayMinutes:":00",timeDisplayHours:9,timeOfDay:"AM",UTCHours:r.getUTCHours(),UTCMinutes:0}),D.saveMessage({messageid:String(Object(H.a)()),message:"".concat(s.firstName,", don't forget to drink some water today! Being hydrated is extremely important to your overall well-being :) Hope your day's going well! Love, Wellness Wendell"),timeDisplayMinutes:":00",timeDisplayHours:1,timeOfDay:"PM",UTCHours:r.getUTCHours()+4,UTCMinutes:0}),D.saveMessage({messageid:String(Object(H.a)()),message:"Remember to get some sort of exercise in today, ".concat(s.firstName,"! I recommend doing some yoga or going for a walk. Being active is a key component of physical and mental wellbeing! Love, Wellness Wendell"),timeDisplayMinutes:":00",timeDisplayHours:5,timeOfDay:"PM",UTCHours:r.getUTCHours()+8,UTCMinutes:0}),e.next=18;break;case 16:B("The code is not correct. Please try again."),q("");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return S?Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsxs)("h1",{className:"subheading",children:["Hi ",s.firstName,"!"]}),Object(j.jsx)("p",{children:"We've sent a one-time code to your phone number."}),Object(j.jsx)(U,{message:z}),Object(j.jsxs)("form",{onSubmit:X,children:[Object(j.jsx)("label",{children:"Please enter the code to verify your phone number: "}),Object(j.jsx)("span",{style:{paddingLeft:10},children:Object(j.jsx)("input",{value:I,maxLength:"4",onChange:function(e){var t=e.target;return q(t.value)}})}),Object(j.jsx)(v.a,{onClick:function(){N.sendMessage(i).then((function(e){A(e)}))},className:"m-3",children:"Resend Code"}),Object(j.jsx)("br",{}),Object(j.jsx)(v.a,{type:"submit",className:"m-2",children:"Submit"})]})]}):Object(j.jsxs)("div",{className:"container",style:{marginBottom:20},children:[Object(j.jsx)("h1",{className:"subheading",children:"Sign up to get messages from Wellness Wendell :)"}),Object(j.jsx)("div",{className:"form",children:Object(j.jsxs)("form",{className:"container-sm text-left",onSubmit:Q,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"First Name"}),Object(j.jsx)("input",{value:s.firstName,onChange:a,placeholder:"John",name:"firstName",required:!0,style:{width:"100%",clear:"both"}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Last Name"}),Object(j.jsx)("span",{className:"text-center",children:Object(j.jsx)("input",{value:s.lastName,onChange:a,placeholder:"Smith",name:"lastName",required:!0})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",{value:s.email,type:"email",onChange:a,placeholder:"johnsmith@gmail.com",name:"email",required:!0})]}),Object(j.jsx)(U,{message:z}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:V,onChange:a,name:"password"}),Object(j.jsx)("span",{className:"show-btn",onClick:function(){return G("password"===V?"text":"password")},children:"password"===V?"Show":"Hide"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Re-Type Password"}),Object(j.jsx)("input",{type:V,onChange:a,name:"retypedPassword"}),Object(j.jsx)("span",{className:"show-btn",onClick:function(){return G("password"===V?"text":"password")},children:"password"===V?"Show":"Hide"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("span",{style:{paddingRight:5},children:Object(j.jsx)("label",{children:"Phone Number"})}),Object(j.jsx)("span",{style:{paddingRight:5},children:Object(j.jsxs)("select",{onChange:p,name:"areaPrefix",children:[Object(j.jsx)("option",{value:"+1",children:"+1"}),Object(j.jsx)("option",{value:"+44",children:"+44"})]})}),Object(j.jsx)("input",{pattern:"[0-9]{3}",type:"tel",maxLength:"3",placeholder:"888",style:{width:"50px"},required:!0,onChange:p,name:"first3"}),"-",Object(j.jsx)("input",{type:"tel",maxLength:"3",pattern:"[0-9]{3}",placeholder:"888",style:{width:"50px"},required:!0,onChange:p,name:"middle3"}),"-",Object(j.jsx)("input",{type:"tel",maxLength:"4",pattern:"[0-9]{4}",placeholder:"8888",style:{width:"60px"},required:!0,onChange:p,name:"last4"})]}),Object(j.jsx)("div",{className:"submit-button text-center",children:Object(j.jsx)(v.a,{type:"submit",class:"btn",children:"Submit"})})]})})]})},T=function(e){var t=e.setUser,s=Object(n.useState)(""),a=Object(u.a)(s,2),r=a[0],c=a[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),b=d[0],m=d[1],h=Object(n.useState)(null),p=Object(u.a)(h,2),x=p[0],g=p[1],f=Object(n.useState)("password"),y=Object(u.a)(f,2),w=y[0],N=y[1],S=Object(O.f)(),W=function(){var e=Object(o.a)(l.a.mark((function e(s){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,k.login({email:r,password:b});case 4:n=e.sent,window.localStorage.setItem("loggedWWUser",JSON.stringify(n)),t(n),D.setToken(n.token),S.push("/dashboard"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),g("The email or password is incorrect.");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{marginBottom:20},children:[Object(j.jsx)("h1",{className:"subheading",children:"Sign in"}),Object(j.jsx)(U,{message:x}),Object(j.jsx)("div",{className:"form",children:Object(j.jsxs)("form",{className:"container-sm text-left",onSubmit:W,children:[Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",{value:r,type:"email",name:"email",onChange:function(e){var t=e.target;return c(t.value)},className:"input-field"})]}),Object(j.jsxs)("div",{class:"form-group",children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{value:b,type:w,onChange:function(e){var t=e.target;return m(t.value)}}),Object(j.jsx)("span",{className:"show-btn",onClick:function(){return N("password"===w?"text":"password")},children:"password"===w?"Show":"Hide"})]}),Object(j.jsx)("div",{class:"text-center",children:Object(j.jsx)(v.a,{type:"submit",children:"Submit"})})]})})]})},A=function(e){return e.location.state?Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsxs)("h1",{className:"subheading",children:["Welcome to Wellness Wendell ",e.location.state.name,"!"]}),Object(j.jsx)("p",{children:"Please sign in to get started."}),Object(j.jsx)(c.b,{exact:!0,to:"/signin",children:Object(j.jsx)(v.a,{className:"mb-3",children:"Sign in"})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Please sign up for a Wellness Wendell account."}),Object(j.jsx)(c.b,{exact:!0,to:"/signup",children:Object(j.jsx)(v.a,{children:"Sign up"})})]})},L=s(40),E=function(e){var t=e.message;return null===t?null:Object(j.jsx)("div",{className:"alert alert-primary",children:t})},I=function(e){var t=e.id,s=e.message,a=e.timeDisplayHours,r=e.timeDisplayMinutes,c=e.timeOfDay,i=e.currentMessages,l=e.setCurrentMessages,o=e.handleDeletedMessage,d=Object(n.useState)(s),b=Object(u.a)(d,2),m=b[0],h=b[1],p=Object(n.useState)(null),O=Object(u.a)(p,2),f=O[0],v=O[1],y=function(e){var t=Object(n.useState)(e),s=Object(u.a)(t,2),a=s[0],r=s[1];return[a,function(e){r(Object(g.a)(Object(g.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))}]}({timeDisplayHours:a,timeDisplayMinutes:r,timeOfDay:c}),w=Object(u.a)(y,2),N=w[0],S=w[1],W=Object(n.useState)(null),k=Object(u.a)(W,2),M=k[0],C=k[1],U=Object(n.useState)(null),H=Object(u.a)(U,2),P=H[0],T=H[1];Object(n.useEffect)((function(){var e=new Date,t=":00"===N.timeDisplayMinutes?0:30,s=new Date(e.getFullYear(),e.getMonth(),e.getDate(),function(e,t){return 12===e&&"AM"===t?24:12!==e&&"PM"===t?12+e:e}(N.timeDisplayHours,N.timeOfDay),t);C(s.getUTCHours()),T(t)}),[N]);return Object(j.jsxs)("div",{className:"msg",children:[Object(j.jsx)(E,{message:f}),Object(j.jsx)("span",{style:{marginTop:20},children:Object(j.jsx)("textarea",{type:"text",value:m,style:{width:"100%"},onChange:function(e){var t=e.target;return h(t.value)}})}),Object(j.jsx)("select",{name:"timeDisplayHours",defaultValue:N.timeDisplayHours,onChange:S,className:"ml-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),Object(j.jsxs)("select",{name:"timeDisplayMinutes",onChange:S,defaultValue:N.timeDisplayMinutes,children:[Object(j.jsx)("option",{value:":00",children:":00"}),Object(j.jsx)("option",{value:":30",children:":30"})]}),Object(j.jsxs)("select",{name:"timeOfDay",onChange:S,defaultValue:N.timeOfDay,children:[Object(j.jsx)("option",{value:"AM",children:"AM"}),Object(j.jsx)("option",{value:"PM",children:"PM"})]}),Object(j.jsx)("button",{className:"btn m-2",onClick:function(){D.saveMessage({messageid:t,message:m,timeDisplayMinutes:N.timeDisplayMinutes,timeDisplayHours:N.timeDisplayHours,timeOfDay:N.timeOfDay,UTCHours:M,UTCMinutes:P}),v("Message saved."),setTimeout((function(){v(null)}),5e3)},children:"Save Message"}),Object(j.jsx)("button",{className:"btn",onClick:function(){window.confirm("Delete message?")&&(o(),D.deleteMessage(t),l(i.filter((function(e){return e.messageid!==t}))))},children:"Delete Message"})]})},q=function(e){var t=e.display,s=Object(n.useState)([]),a=Object(u.a)(s,2),r=a[0],c=a[1],i=Object(n.useState)(null),l=Object(u.a)(i,2),o=l[0],d=l[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedWWUser");if(e){var t=JSON.parse(e);D.setToken(t.token)}}),[]),Object(n.useEffect)((function(){D.getUserMessages().then((function(e){return c(e)}))}),[]);var b=function(){c([].concat(Object(L.a)(r),[{message:"",messageid:String(Object(H.a)()),timeDisplayHours:9,timeDisplayMinutes:":00",timeOfDay:"AM"}]))},m=function(){d("Message deleted."),setTimeout((function(){d(null)}),5e3)};return"messages"===t&&0!==r.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"subheading",children:"Messages"}),Object(j.jsx)(E,{message:o}),r.map((function(e,t){return Object(j.jsx)(I,{id:e.messageid,message:e.message,timeDisplayHours:e.timeDisplayHours,timeDisplayMinutes:e.timeDisplayMinutes,timeOfDay:e.timeOfDay,currentMessages:r,setCurrentMessages:function(e){return c(e)},handleDeletedMessage:m},t)})),Object(j.jsx)("button",{className:"btn m-2",onClick:b,children:"Add new message"})]}):"messages"===t&&0===r.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{message:o}),Object(j.jsx)("h1",{className:"subheading",children:"Messages"}),Object(j.jsx)("p",{class:"m-2",children:"You currently don't have any Wellness Wendell messages."}),Object(j.jsx)("button",{class:"btn m-2",onClick:b,children:"Add new message"})]}):null},J=s(76),R=function(e){var t=e.display,s=Object(n.useState)(null),a=Object(u.a)(s,2),r=a[0],c=a[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),b=d[0],m=d[1],h=f({areaPrefix:"+1",first3:"",middle3:"",last4:""}),p=Object(u.a)(h,2),x=p[0],g=p[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),N=w[0],S=w[1],k=Object(O.f)();Object(n.useEffect)((function(){m(x.areaPrefix+x.first3+x.middle3+x.last4)}),[x.areaPrefix,x.first3,x.middle3,x.last4]);var M=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.deleteUser();case 2:window.localStorage.removeItem("loggedWWUser"),k.push("/delete");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){return S(!1)};return"settings"===t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(J.a,{show:N,onHide:C,children:[Object(j.jsx)(J.a.Header,{closeButton:!0,children:Object(j.jsx)(J.a.Title,{children:"Are you sure you want to delete your account?"})}),Object(j.jsx)(J.a.Body,{children:"This is a permanent, destructive action."}),Object(j.jsxs)(J.a.Footer,{children:[Object(j.jsx)(v.a,{variant:"primary",onClick:M,children:"Delete Account"}),Object(j.jsx)(v.a,{variant:"secondary",onClick:C,children:"Close"})]})]}),Object(j.jsx)("h1",{className:"subheading",children:"Settings"}),Object(j.jsx)(E,{message:r}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{style:{paddingLeft:5},children:Object(j.jsx)("label",{children:"Change Phone Number"})}),Object(j.jsx)("span",{style:{paddingRight:5,paddingLeft:5},children:Object(j.jsxs)("select",{name:"areaPrefix",onChange:g,children:[Object(j.jsx)("option",{value:"+1",children:"+1"}),Object(j.jsx)("option",{value:"+44",children:"+44"})]})}),Object(j.jsx)("input",{pattern:"[0-9]{3}",type:"tel",maxLength:"3",style:{width:"50px"},required:!0,name:"first3",onChange:g}),"-",Object(j.jsx)("input",{type:"tel",maxLength:"3",pattern:"[0-9]{3}",style:{width:"50px"},required:!0,name:"middle3",onChange:g}),"-",Object(j.jsx)("input",{type:"tel",maxLength:"4",pattern:"[0-9]{4}",style:{width:"60px"},required:!0,name:"last4",onChange:g}),Object(j.jsx)("button",{class:"btn mb-2 ml-2 mr-2",onClick:function(){W.updatePhoneNumber(b),c("Updated successfully."),setTimeout((function(){c(null)}),5e3)},children:"Save"})]}),Object(j.jsx)("div",{className:"text-center m-3",children:Object(j.jsx)(v.a,{className:"text-center",onClick:function(){return S(!0)},children:"Delete account"})})]}):null},z=function(){var e=Object(n.useState)("messages"),t=Object(u.a)(e,2),s=t[0],a=t[1];return Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsxs)("div",{className:"dashboard-nav",children:[Object(j.jsx)(v.a,{className:"db-button",onClick:function(){return a("messages")},children:"Change Wendell's messages"}),Object(j.jsx)(v.a,{className:"db-button",onClick:function(){return a("settings")},children:"Account Settings"})]}),Object(j.jsxs)("div",{className:"dashboard-content",children:[Object(j.jsx)(q,{display:s}),Object(j.jsx)(R,{display:s})]})]})},B=function(e){var t=e.setUser;return Object(n.useEffect)((function(){return t("")})),Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("h1",{class:"subheading",children:"Wellness Wendell is sad to see you go!"}),Object(j.jsx)(c.b,{exact:!0,to:"/signup",children:Object(j.jsx)(v.a,{className:"m-3",children:"Sign up for an account"})})]})},F=function(e){e.user;var t=e.setUser;return Object(j.jsxs)(O.c,{children:[Object(j.jsx)(O.a,{exact:!0,path:"/",component:b}),Object(j.jsx)(O.a,{exact:!0,path:"/about",component:m}),Object(j.jsx)(O.a,{exact:!0,path:"/signup",component:P}),Object(j.jsx)(O.a,{exact:!0,path:"/signin",render:function(){return Object(j.jsx)(T,{setUser:t})}}),Object(j.jsx)(O.a,{exact:!0,path:"/welcome",component:A}),Object(j.jsx)(O.a,{exact:!0,path:"/dashboard",component:z}),Object(j.jsx)(O.a,{exact:!0,path:"/delete",render:function(){return Object(j.jsx)(B,{setUser:t})}})]})},Y=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),s=t[0],a=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.localStorage.getItem("loggedWWUser"))){e.next=6;break}return e.next=4,D.getUserMessages();case 4:null!==e.sent?(s=JSON.parse(t),a(s),D.setToken(s.token)):window.localStorage.removeItem("loggedWWUser");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{user:s}),Object(j.jsx)(F,{user:s,setUser:function(e){return a(e)}}),Object(j.jsx)(p,{})]})};r.a.render(Object(j.jsx)(c.a,{children:Object(j.jsx)(Y,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.06272a12.chunk.js.map